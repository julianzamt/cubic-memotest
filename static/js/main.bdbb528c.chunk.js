(this["webpackJsonpcubic-memotest"]=this["webpackJsonpcubic-memotest"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var c=a(3),s=a(1),n=a.n(s),i=a(30),r=a.n(i),l=(a(78),a(8)),o=a(65),d=a.n(o),b=a(64),j=a.n(b),u=a(66),m=a.n(u),g=(a(79),function(){return Object(c.jsx)("div",{className:"footer__container",children:Object(c.jsxs)("section",{children:[Object(c.jsx)("span",{children:"\xa92021 Juli\xe1n Zamt"}),Object(c.jsx)("a",{href:"https://github.com/julizamt",rel:"noreferrer",target:"_blank",children:Object(c.jsx)(j.a,{className:"footer__icons grow"})}),Object(c.jsx)("a",{href:"https://www.linkedin.com/in/julian-zamtlejfer-1520205a/",rel:"noreferrer",target:"_blank",children:Object(c.jsx)(d.a,{className:"footer__icons grow"})}),Object(c.jsx)("a",{href:"https://twitter.com/julianzamt",rel:"noreferrer",target:"_blank",children:Object(c.jsx)(m.a,{className:"footer__icons grow"})})]})})}),f=a(23),O=a(31),h=a(35);h.a.initializeApp({apiKey:"AIzaSyA38DFwyoNIzTlbPBKvbJL-7vcaNyBrfpw",authDomain:"cubic-memotest.firebaseapp.com",projectId:"cubic-memotest",storageBucket:"cubic-memotest.appspot.com",messagingSenderId:"1008229769730",appId:"1:1008229769730:web:a09d7db4d42e4a0a13fd1b",measurementId:"G-X3SEPQ1RH6"}),h.a.analytics();var _=h.a.firestore();h.a.auth=h.a.auth(),h.a.db=_;var x=h.a,v=a(36),p=a(49),F=a.p+"static/media/cube-outline.4d573467.svg",k=a(47),N=a(24),S=a(28),w=n.a.createContext({}),C=a(68),y=a.n(C),M=a(54),T=a(67),I=a.n(T),D=(a(87),function(e){var t=Object(s.useContext)(w),a=Object(s.useState)({email:"",password:""}),n=Object(l.a)(a,2),i=n[0],r=n[1],o=Object(s.useState)(!1),d=Object(l.a)(o,2),b=d[0],j=d[1];function u(e){var t=e.target,a=t.name,c=t.value;r(Object(O.a)(Object(O.a)({},i),{},Object(f.a)({},a,c)))}return Object(c.jsx)("div",{className:"navbar__container",children:Object(c.jsxs)(v.a,{bg:"light",expand:"lg",children:[Object(c.jsxs)(v.a.Brand,{children:[Object(c.jsx)("img",{src:F,alt:"logo",height:"30",width:"30"}),Object(c.jsx)("span",{className:"ml-2",children:"Cubic Memotest"})]}),Object(c.jsx)(v.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"hamburguer__button",children:Object(c.jsx)(I.a,{className:"hamburguer"})}),Object(c.jsxs)(v.a.Collapse,{id:"basic-navbar-nav",children:[t.login&&Object(c.jsxs)(p.a,{className:"greeting toggle-logged",children:[null!==t.username?Object(c.jsxs)(v.a.Text,{className:"username",children:["Hi there, ",t.username]}):Object(c.jsx)(v.a.Text,{className:"username welcome toggle-logged",children:"Welcome!"}),Object(c.jsx)(p.a.Link,{onClick:function(){e.setFeedbackFlag(!0),e.setFeedbackMessage("See you soon!"),t.logoutUser()},children:Object(c.jsx)("span",{className:"logout",children:"| Logout "})})]}),!t.login&&Object(c.jsxs)(p.a,{className:"ml-auto",children:[Object(c.jsx)(N.a,{inline:!0,onSubmit:function(a){a.preventDefault(),j(!0);var c=i.email,s=i.password;x.auth.signInWithEmailAndPassword(c,s).then((function(e){return t.loginUser(),x.db.collection("Usuarios").doc(e.user.uid).get()})).then((function(e){var a=e.data();localStorage.setItem("username",a.username),t.setUsername(localStorage.getItem("username")),j(!1)})).catch((function(t){e.setFeedbackFlag(!0),e.setFeedbackMessage(t.message),j(!1)}))},children:Object(c.jsxs)(N.a.Group,{controlId:"logIn",children:[Object(c.jsx)(N.a.Label,{className:"mr-2 login-label",children:"Login"}),Object(c.jsx)(k.a,{name:"email",value:i.email,placeholder:"Email","aria-label":"email",className:"mr-2 nav-input toggle",onChange:u}),Object(c.jsx)(k.a,{placeholder:"Password","aria-label":"password",type:"password",className:"nav-input toggle",onChange:u,name:"password",value:i.password}),b?Object(c.jsx)(M.a,{className:"mr-2 ml-2",animation:"grow",variant:"success",size:"sm"}):Object(c.jsx)("button",{className:"button mr-2",type:"submit",children:Object(c.jsx)(y.a,{color:"action"})})]})}),Object(c.jsxs)("div",{className:"register__text",children:[Object(c.jsx)(v.a.Text,{className:"register",children:"Don\xb4t have an account? \xa0"}),Object(c.jsx)(p.a.Link,{as:S.b,to:"/registro",className:"register",children:"Register Here"})]})]})]})]})})}),A=(a(90),a(34));a(91);function P(e,t,a){var c=Math.random()*(t-e)+e;return a?c:Math.floor(c)}var L=[a.p+"static/media/francella-1.a37732d3.jpg",a.p+"static/media/francella-2.45f373b4.png",a.p+"static/media/francella-3.e797d423.png",a.p+"static/media/francella-4.a5a03506.png",a.p+"static/media/francella-5.98194dfc.png",a.p+"static/media/francella-6.c3ca66e2.png",a.p+"static/media/francella-7.d9d2179d.png",a.p+"static/media/francella-8.9933c8ea.png",a.p+"static/media/francella-9.b871043e.png",a.p+"static/media/francella-10.1c535bf2.png",a.p+"static/media/francella-11.ac494a89.png",a.p+"static/media/francella-12.3bd46320.png",a.p+"static/media/francella-13.6e22a034.png",a.p+"static/media/francella-14.d0a7bdfb.png",a.p+"static/media/francella-15.8d4d8e23.png",a.p+"static/media/francella-16.23d24982.png",a.p+"static/media/francella-17.d6a0490a.png",a.p+"static/media/francella-18.bfaaf57b.png"];var W=x.db.collection("Ranking");a(92);var E=function(e){return Object(c.jsxs)("div",{className:"highscore__container",children:[Object(c.jsxs)("div",{children:[e.index,". ",e.username]}),Object(c.jsx)("div",{children:e.score})]})},U=function(e){var t=Object(s.useContext)(w),a=e.tries,n=e.setTries,i=e.setFinalFlag,r=e.setWinFlag,o=e.looseAnimationFlag,d=e.setLooseAnimationFlag,b=e.winAnimationFlag,j=e.setWinAnimationFlag,u=e.lockCards,m=e.setStopTimeFlag,g=(e.stopTimeFlag,e.setLockCards),f=x.db.collection("Ranking"),O=Object(s.useState)(function(){for(var e=[],t=null;e.length<3;)t=P(0,L.length),e.includes(L[t])||e.push(L[t]);return(e=e.concat(e)).sort((function(){return Math.random()-.5})),e}()),h=Object(l.a)(O,1)[0],_=Object(s.useState)(!1),v=Object(l.a)(_,2),p=v[0],k=v[1],N=Object(s.useState)(!1),S=Object(l.a)(N,2),C=S[0],y=S[1],M=Object(s.useState)(!1),T=Object(l.a)(M,2),I=T[0],D=T[1],W=Object(s.useState)(!1),U=Object(l.a)(W,2),R=U[0],z=U[1],B=Object(s.useState)(!1),H=Object(l.a)(B,2),Y=H[0],G=H[1],J=Object(s.useState)(!1),X=Object(l.a)(J,2),K=X[0],Z=X[1],Q=Object(s.useState)([]),q=Object(l.a)(Q,2),V=q[0],$=q[1],ee=Object(s.useState)([]),te=Object(l.a)(ee,2),ae=te[0],ce=te[1],se=Object(s.useState)(["front","back","right","left","top","bottom"]),ne=Object(l.a)(se,2),ie=ne[0],re=ne[1],le=function(e){var t=e.target.getAttribute("card"),a=e.target.getAttribute("face");switch(a){case"front":k(!0);break;case"back":y(!0);break;case"right":z(!0);break;case"left":D(!0);break;case"top":G(!0);break;case"bottom":Z(!0)}$([].concat(Object(A.a)(V),[t])),ce([].concat(Object(A.a)(ae),[a]))};Object(s.useEffect)((function(){if(2===V.length){var e=ie,s=a,l=t.score;n(s-=1),g(!0),V[0]===V[1]&&(t.setScore(t.score+100),l+=100,e=ie.filter((function(e){return!ae.includes(e)})),re(e),e.length||(j(!0),m(!0),setTimeout((function(){r(!0)}),2e3))),!s&&e.length&&(g(!0),d(!0),m(!0),f.add({username:t.username,score:l}).then(f.orderBy("score","desc").limit(10).get().then((function(e){var a=e.docs.map((function(e,t){return Object(c.jsx)(E,{index:t+1,username:e.data().username,score:e.data().score},e.id)}));t.setRanking(a)}))).catch((function(e){console.log("Error getting documents: ",e)})),setTimeout((function(){i(!0)}),3e3)),ie.length&&(console.log("activeFaces: "+e),setTimeout((function(){e.includes("front")&&k(!1),e.includes("back")&&y(!1),e.includes("left")&&D(!1),e.includes("right")&&z(!1),e.includes("top")&&G(!1),e.includes("bottom")&&Z(!1),g(!1)}),600),$([]),ce([]))}}),[V,ie,ae]);var oe=Object(s.useState)(!1),de=Object(l.a)(oe,2),be=de[0],je=de[1],ue=Object(s.useState)(null),me=Object(l.a)(ue,2),ge=me[0],fe=me[1],Oe=Object(s.useState)(null),he=Object(l.a)(Oe,2),_e=he[0],xe=he[1],ve=Object(s.useRef)(null);function pe(e){return e.touches?e.touches[0]:e}function Fe(e){var t=pe(e);je(!0),fe(t.clientX),xe(t.clientY)}function ke(e){if(be){var t=pe(e),a=t.clientX,c=t.clientY,s=a-ge,n=c-_e,i=Math.hypot(s,n);i&&(ve.current.style.setProperty("--p",getComputedStyle(ve.current).transform.replace("none","")),ve.current.style.setProperty("--a","".concat(+(.2*i).toFixed(2),"deg")),ve.current.style.setProperty("--i",(-n).toFixed(2)),ve.current.style.setProperty("--j",+s.toFixed(2)),fe(a),xe(c))}}function Ne(e){be&&(je(!1),fe(null),xe(null))}return Object(c.jsx)("div",{className:"scene",onMouseDown:Fe,onMouseMove:ke,onMouseUp:Ne,onTouchStart:Fe,onTouchMove:ke,onTouchEnd:Ne,children:Object(c.jsxs)("div",{className:b?"cube win__animation":"cube",ref:ve,children:[Object(c.jsx)("div",{className:o?"cube__face cube__face--front loose__animation":"cube__face cube__face--front",children:Object(c.jsx)("div",{className:"card__scene",children:Object(c.jsxs)("div",{className:"card__object ".concat(p?"is-flipped":null," ").concat(u?"lockCards":null),children:[Object(c.jsx)("div",{className:"card__face card__face--front",onClick:le,card:h[0],face:"front",children:Object(c.jsx)("img",{src:F,alt:"cube logo",width:"100%",height:"100%",card:h[0],face:"front",onDragStart:function(e){e.preventDefault()}})}),Object(c.jsx)("div",{className:"card__face card__face--back",children:Object(c.jsx)("img",{src:h[0],alt:"card",width:"100%",height:"100%",className:"card"})})]})})}),Object(c.jsx)("div",{className:o?"cube__face cube__face--back loose__animation":"cube__face cube__face--back",children:Object(c.jsx)("div",{className:"card__scene",children:Object(c.jsxs)("div",{className:"card__object ".concat(C?"is-flipped":null," ").concat(u?"lockCards":null),children:[Object(c.jsx)("div",{className:"card__face card__face--front",card:h[1],face:"back",onClick:le,children:Object(c.jsx)("img",{src:F,alt:"",width:"100%",height:"100%",card:h[1],face:"back",onDragStart:function(e){e.preventDefault()}})}),Object(c.jsx)("div",{className:"card__face card__face--back",children:Object(c.jsx)("img",{src:h[1],alt:"card-2",width:"100%",height:"100%",className:"card"})})]})})}),Object(c.jsx)("div",{className:o?"cube__face cube__face--right loose__animation":"cube__face cube__face--right",children:Object(c.jsx)("div",{className:"card__scene",children:Object(c.jsxs)("div",{className:"card__object ".concat(R?"is-flipped":null," ").concat(u?"lockCards":null),children:[Object(c.jsx)("div",{className:"card__face card__face--front",card:h[2],face:"right",onClick:le,children:Object(c.jsx)("img",{src:F,alt:"",width:"100%",height:"100%",card:h[2],face:"right",onDragStart:function(e){e.preventDefault()}})}),Object(c.jsx)("div",{className:"card__face card__face--back",children:Object(c.jsx)("img",{src:h[2],alt:"card-3",width:"100%",height:"100%",className:"card"})})]})})}),Object(c.jsx)("div",{className:o?"cube__face cube__face--left loose__animation":"cube__face cube__face--left",children:Object(c.jsx)("div",{className:"card__scene",children:Object(c.jsxs)("div",{className:"card__object ".concat(I?"is-flipped":null," ").concat(u?"lockCards":null),children:[Object(c.jsx)("div",{className:"card__face card__face--front",card:h[3],face:"left",onClick:le,children:Object(c.jsx)("img",{src:F,alt:"",width:"100%",height:"100%",card:h[3],face:"left",onDragStart:function(e){e.preventDefault()}})}),Object(c.jsx)("div",{className:"card__face card__face--back",children:Object(c.jsx)("img",{src:h[3],alt:"card-4",width:"100%",height:"100%",className:"card"})})]})})}),Object(c.jsx)("div",{className:o?"cube__face cube__face--top loose__animation":"cube__face cube__face--top",children:Object(c.jsx)("div",{className:"card__scene",children:Object(c.jsxs)("div",{className:"card__object ".concat(Y?"is-flipped":null," ").concat(u?"lockCards":null),children:[Object(c.jsx)("div",{className:"card__face card__face--front",card:h[4],face:"top",onClick:le,children:Object(c.jsx)("img",{src:F,alt:"",width:"100%",height:"100%",card:h[4],face:"top",onDragStart:function(e){e.preventDefault()}})}),Object(c.jsx)("div",{className:"card__face card__face--back",children:Object(c.jsx)("img",{src:h[4],alt:"card-5",width:"100%",height:"100%",className:"card"})})]})})}),Object(c.jsx)("div",{className:o?"cube__face cube__face--bottom loose__animation":"cube__face cube__face--bottom",children:Object(c.jsx)("div",{className:"card__scene",children:Object(c.jsxs)("div",{className:"card__object ".concat(K?"is-flipped":null," ").concat(u?"lockCards":null),children:[Object(c.jsx)("div",{className:"card__face card__face--front",card:h[5],face:"bottom",onClick:le,children:Object(c.jsx)("img",{src:F,alt:"",width:"100%",height:"100%",card:h[5],face:"bottom",onDragStart:function(e){e.preventDefault()}})}),Object(c.jsx)("div",{className:"card__face card__face--back",children:Object(c.jsx)("img",{src:h[5],alt:"card-6",width:"100%",height:"100%",className:"card"})})]})})})]})})},R=(a(93),function(e){var t,a,n=Object(s.useContext)(w),i=e.setFinalFlag,r=e.time,o=e.setTime,d=e.stopTimeFlag,b=e.setLooseAnimationFlag,j=e.setLockCards,u=e.winFlag,m=Object(s.useState)(!1),g=Object(l.a)(m,2),f=g[0],O=g[1],h=!1;return Object(s.useEffect)((function(){var e=null;return d?O(!1):(r>=0&&(e=setTimeout((function(){return o((function(e){return e-1}))}),1e3)),5===r&&O(!0)),function(){return clearTimeout(e)}}),[r,o,d]),r<0&&(h=!0,j(!0),b(!0),t=n.score,a=n.username,W.add({username:a,score:t}).catch((function(e){console.error("Error adding document: ",e)})),setTimeout((function(){i(!0)}),3e3)),Object(c.jsxs)("div",{className:u?"timer__container timer__hidden":"timer__container",children:[Object(c.jsx)("div",{className:"timer__text",children:"Time"}),h?Object(c.jsx)("div",{className:"timeup",children:"Time\xb4s up!"}):Object(c.jsx)("div",{className:f?"time beat":"time",children:r})]})}),z=(a(94),function(e){return Object(c.jsxs)("div",{className:e.winFlag?"tries__container tries__hidden":"tries__container",children:[Object(c.jsx)("div",{className:"tries__text",children:"Tries left"}),Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"tries__number",children:e.tries},e.tries)})]})}),B=a(19),H=(a(95),function(e){var t=Object(s.useContext)(w),a=Object(B.c)({to:{opacity:e.feedbackFlag?0:1},from:{opacity:1},delay:2500,config:Object(O.a)({},B.b.slow),onRest:function(){e.setFeedbackFlag(!1),e.setFeedbackMessage(null)}});return Object(c.jsxs)("div",{className:"feedback__container",children:[e.feedbackFlag?Object(c.jsx)(B.a.div,{style:a,children:e.feedbackMessage}):null,!t.login&&!e.feedbackMessage&&Object(c.jsxs)("div",{children:[" Currently playing as ",Object(c.jsx)("b",{children:"Guest"}),". Login for track your scores."]})]})}),Y=(a(96),function(){var e=Object(s.useContext)(w);return Object(c.jsxs)("div",{className:"scores__container",children:[Object(c.jsxs)("div",{children:["Score ",e.score]}),Object(c.jsxs)("div",{children:["Highscore ",e.highscore]})]})}),G=(a(97),function(e){var t=Object(s.useContext)(w),a=x.db.collection("Ranking"),n=500*e.tries,i=100*e.time,r=e.levelClearPoints+n+i;Object(s.useEffect)((function(){t.setScore(t.score+r),a.add({username:t.username,score:t.score+r}).then(a.orderBy("score","desc").limit(10).get().then((function(e){var a=e.docs.map((function(e,t){return Object(c.jsx)(E,{index:t+1,username:e.data().username,score:e.data().score},e.id)}));t.setRanking(a)}))).catch((function(e){console.log("Error getting documents: ",e)}))}),[]);var l=Object(B.c)({to:{opacity:1},from:{opacity:0}});return Object(c.jsxs)(B.a.div,{className:"bonus__container",style:l,children:[Object(c.jsxs)("h3",{className:"bonus__title",children:["Stage ",t.level," Cleared!"]}),Object(c.jsxs)("div",{className:"bonus__points",children:[Object(c.jsx)("div",{children:"Level completed"})," ",Object(c.jsxs)("div",{className:"points",children:[e.levelClearPoints," pts"]}),Object(c.jsxs)("div",{children:[e.tries," tries left"]})," ",Object(c.jsxs)("div",{className:"points",children:[n," pts"]}),Object(c.jsxs)("div",{children:[e.time," seconds left"]})," ",Object(c.jsxs)("div",{className:"points",children:[i," pts"]}),Object(c.jsx)("hr",{className:"horizontal-line"})," ",Object(c.jsx)("hr",{className:"horizontal-line"}),Object(c.jsx)("div",{children:"Bonus"})," ",Object(c.jsxs)("div",{className:"points",children:[r," pts"]}),Object(c.jsx)("div",{children:"Score"})," ",Object(c.jsxs)("div",{className:"points",children:[t.score," pts"]})]}),Object(c.jsx)("button",{className:"bonus__button",onClick:function(){e.setFinalFlag(!0),t.setInit(!1)},children:"Continue"})]})}),J=(a(98),function(){var e=Object(s.useContext)(w),t=Object(s.useState)(!0),a=Object(l.a)(t,2),n=a[0],i=a[1];setTimeout((function(){return i(!1)}),2e3),x.db.collection("Ranking").orderBy("score","desc").limit(10).get().then((function(t){var a=t.docs.map((function(e){return e.data()}));e.setHighscore(a[0].score)}));var r=Object(B.c)({from:{transform:"rotateY(-90deg)"},to:{transform:n?"rotateY(-90deg)":"rotateY(0deg)"},config:{mass:3,tension:180,friction:12}});return Object(c.jsx)("div",{className:"focus__container",children:n?Object(c.jsx)("div",{className:"focus",children:"Focus"}):Object(c.jsx)(B.a.div,{className:"go",style:r,children:"GO!"})})}),X=function(e){var t=Object(s.useContext)(w),a=Object(s.useState)(!0),n=Object(l.a)(a,2),i=n[0],r=n[1];setTimeout((function(){r(!1)}),3e3);var o=null,d=null,b=null;switch(t.level){case 1:default:o=6,d=20,b=1e3}var j=Object(s.useState)(o),u=Object(l.a)(j,2),m=u[0],g=u[1],f=Object(s.useState)(d),O=Object(l.a)(f,2),h=O[0],_=O[1],x=Object(s.useState)(!1),v=Object(l.a)(x,2),p=v[0],F=v[1],k=Object(s.useState)(!1),N=Object(l.a)(k,2),S=N[0],C=N[1],y=Object(s.useState)(!1),M=Object(l.a)(y,2),T=M[0],I=M[1],D=Object(s.useState)(!1),A=Object(l.a)(D,2),P=A[0],L=A[1];return Object(c.jsx)("div",{children:i?Object(c.jsx)(J,{}):Object(c.jsxs)("div",{className:"board__container",children:[Object(c.jsx)(Y,{}),Object(c.jsx)(R,{setFinalFlag:e.setFinalFlag,time:h,setTime:_,stopTimeFlag:p,setLooseAnimationFlag:I,setStopTimeFlag:F,setLockCards:L,setWinFlag:e.setWinFlag}),Object(c.jsx)("div",{className:"object__container",children:e.winFlag?Object(c.jsx)(G,{setFinalFlag:e.setFinalFlag,time:h,tries:m,levelClearPoints:b}):Object(c.jsx)(U,{tries:m,setTries:g,setFinalFlag:e.setFinalFlag,setWinFlag:e.setWinFlag,winFlag:e.winFlag,finalFlag:e.finalFlag,stopTimeFlag:p,setStopTimeFlag:F,winAnimationFlag:S,setWinAnimationFlag:C,looseAnimationFlag:T,setLooseAnimationFlag:I,setLockCards:L,lockCards:P})}),Object(c.jsx)(z,{tries:m,setWinFlag:e.setWinFlag}),e.feedbackFlag||!t.login?Object(c.jsx)(H,{setFeedbackFlag:e.setFeedbackFlag,feedbackMessage:e.feedbackMessage,setFeedbackMessage:e.setFeedbackMessage,feedbackFlag:e.feedbackFlag}):null]})})},K=a(12),Z=function(e){var t=Object(s.useState)(localStorage.getItem("login")),a=Object(l.a)(t,2),n=a[0],i=a[1],r=Object(s.useState)(localStorage.getItem("username")),o=Object(l.a)(r,2),d=o[0],b=o[1],j=Object(s.useState)(0),u=Object(l.a)(j,2),m=u[0],g=u[1],f=Object(s.useState)(1),O=Object(l.a)(f,2),h=O[0],_=O[1],x=Object(s.useState)(null),v=Object(l.a)(x,2),p=v[0],F=v[1],k=Object(s.useState)(!0),N=Object(l.a)(k,2),S=N[0],C=N[1],y=Object(s.useState)([]),M=Object(l.a)(y,2),T=M[0],I=M[1],D=Object(K.f)();return Object(c.jsx)(w.Provider,{value:{login:n,loginUser:function(){i(!0),localStorage.setItem("login",!0)},logoutUser:function(){localStorage.clear(),i(!1),b(null),D.push("/")},username:d,setUsername:b,score:m,setScore:g,level:h,setLevel:_,init:S,setInit:C,highscore:p,setHighscore:F,ranking:T,setRanking:I},children:e.children})},Q=a(69),q=a(71),V=(a(99),a(70)),$=a.n(V);var ee=function(e){var t=Object(s.useState)({username:"",email:"",password:"",confirmation:""}),a=Object(l.a)(t,2),n=a[0],i=a[1],r=Object(s.useState)(!1),o=Object(l.a)(r,2),d=o[0],b=o[1],j=Object(s.useState)(!1),u=Object(l.a)(j,2),m=u[0],g=u[1],h=Object(s.useState)(""),_=Object(l.a)(h,2),v=_[0],p=_[1],F=Object(K.f)(),k=Object(s.useContext)(w);function C(e){var t=e.target,a=t.name,c=t.value;i(Object(O.a)(Object(O.a)({},n),{},Object(f.a)({},a,c)))}return Object(c.jsxs)("div",{className:"register__container mt-3 text-center",children:[Object(c.jsx)("h2",{children:"User registration"}),m?Object(c.jsx)(q.a,{variant:"danger",children:v}):null,Object(c.jsxs)(N.a,{onSubmit:function(t){b(!0),g(!1);var a=n.username,c=n.email,s=n.password,i=n.confirmation;return s.length>=6&&s!==i?(t.preventDefault(),g(!0),p("Password and confirmation must match"),void b(!1)):s.length<6?(g(!0),p("Password must have 6 characters or more"),t.preventDefault(),void b(!1)):(x.auth.createUserWithEmailAndPassword(c,s).then((function(e){x.db.collection("Usuarios").doc(e.user.uid).set({username:a,email:c,maxScore:0})})).then((function(){return x.auth.signInWithEmailAndPassword(c,s)})).then((function(e){return k.loginUser(),x.db.collection("Usuarios").doc(e.user.uid).get()})).then((function(t){var a=t.data();localStorage.setItem("username",a.username),k.setUsername(localStorage.getItem("username")),b(!1),e.setFeedbackFlag(!0),e.setFeedbackMessage("Succesfully registered and logged in."),e.setInitialScreenFlag(!0),F.push("/")})).catch((function(e){g(!0),p(e.message),b(!1)})),void t.preventDefault())},children:[Object(c.jsx)(N.a.Control,{className:"register__input",type:"text",name:"username",value:n.username,placeholder:"Choose a username",onChange:C,autofocus:!0}),Object(c.jsx)(N.a.Control,{className:"register__input",type:"email",name:"email",value:n.email,placeholder:"Email",onChange:C}),Object(c.jsx)(N.a.Control,{className:"register__input",type:"password",name:"password",value:n.password,placeholder:"Password (6+ characters)",onChange:C}),Object(c.jsx)(N.a.Control,{className:"register__input",type:"password",name:"confirmation",value:n.confirmation,placeholder:"Password confirmation",onChange:C}),Object(c.jsxs)(Q.a,{variant:"primary",type:"submit",children:["Register",d?Object(c.jsx)(M.a,{animation:"grow",variant:"success",size:"sm",className:"ml-2"}):null," "]})]}),Object(c.jsxs)(S.b,{to:"/",className:"back__sign",children:[Object(c.jsx)($.a,{})," Back to board"]})]})},te=(a(100),function(){return Object(c.jsx)("div",{className:"little__scene",children:Object(c.jsxs)("div",{className:"little__cube",children:[Object(c.jsx)("div",{className:"little__cube__face"}),Object(c.jsx)("div",{className:"little__cube__face"}),Object(c.jsx)("div",{className:"little__cube__face"}),Object(c.jsx)("div",{className:"little__cube__face"}),Object(c.jsx)("div",{className:"little__cube__face"}),Object(c.jsx)("div",{className:"little__cube__face"})]})})}),ae=(a(101),function(e){return Object(c.jsxs)("div",{className:"initialScreen__container",children:[Object(c.jsxs)("div",{style:{textAlign:"center"},children:[Object(c.jsx)("h4",{className:"welcome__h4",children:"Welcome to"}),Object(c.jsx)("h1",{className:"welcome__h1",children:"Cubic Memotest"})]}),Object(c.jsx)(te,{}),Object(c.jsx)("button",{className:"start__button",onClick:function(){e.setInitialScreenFlag(!1),e.setFinalFlag(!1)},children:"Start"}),e.feedbackFlag?Object(c.jsx)(H,{setFeedbackFlag:e.setFeedbackFlag,feedbackMessage:e.feedbackMessage,setFeedbackMessage:e.setFeedbackMessage,feedbackFlag:e.feedbackFlag}):null]})}),ce=(a(102),a(103),function(){var e=Object(s.useContext)(w);return Object(c.jsxs)("div",{className:"ranking__container",children:[Object(c.jsx)("div",{className:"ranking__text",children:"Highscores"}),e.ranking]})}),se=function(e){var t=Object(s.useContext)(w),a=function(a){var c=a.target.name;e.setFinalFlag(!1),e.setWinFlag(!1),t.setInit(!0),t.setScore(0),"exit"===c&&e.setInitialScreenFlag(!0)},n=Object(B.c)({from:{transform:"rotateX(-90deg)"},to:{transform:"rotateX(0deg)"},config:{mass:3,tension:180,friction:12}});return Object(c.jsxs)("div",{className:"final__container",children:[e.winFlag?Object(c.jsx)(B.a.div,{className:"result",style:n,children:" You win! :)"}):Object(c.jsx)(B.a.div,{className:"result",style:n,children:"You loose :("}),Object(c.jsxs)("div",{className:"final__score",children:["Score ",t.score," pts"]}),Object(c.jsx)("div",{children:"Thanks for playing Cubic Memotest Demo"}),Object(c.jsx)("div",{children:"\xa92021 Juli\xe1n Zamt"}),Object(c.jsx)(ce,{}),Object(c.jsxs)("div",{className:"buttons__container",children:[Object(c.jsx)("button",{onClick:a,className:"final__button",children:"Play again"}),Object(c.jsx)("button",{onClick:a,name:"exit",className:"final__button",children:"Exit Game"})]}),e.feedbackFlag||!t.login?Object(c.jsx)(H,{setFeedbackFlag:e.setFeedbackFlag,feedbackMessage:e.feedbackMessage,setFeedbackMessage:e.setFeedbackMessage,feedbackFlag:e.feedbackFlag}):null]})},ne=(a(104),function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],i=Object(s.useState)(null),r=Object(l.a)(i,2),o=r[0],d=r[1],b=Object(s.useState)(!1),j=Object(l.a)(b,2),u=j[0],m=j[1],f=Object(s.useState)(!1),O=Object(l.a)(f,2),h=O[0],_=O[1],x=Object(s.useState)(!0),v=Object(l.a)(x,2),p=v[0],F=v[1];return Object(c.jsx)(Z,{children:Object(c.jsxs)("div",{className:"app__container",children:[Object(c.jsx)(D,{setFeedbackFlag:n,setFeedbackMessage:d,initialScreenFlag:p}),Object(c.jsxs)(K.c,{children:[Object(c.jsx)(K.a,{exact:!0,path:"/",children:p?Object(c.jsx)(ae,{setInitialScreenFlag:F,feedbackFlag:a,setFeedbackFlag:n,feedbackMessage:o,setFeedbackMessage:d,setFinalFlag:_}):h?Object(c.jsx)(se,{winFlag:u,setWinFlag:m,setFinalFlag:_,setInitialScreenFlag:F,feedbackFlag:a,setFeedbackFlag:n,feedbackMessage:o,setFeedbackMessage:d}):Object(c.jsx)(X,{feedbackFlag:a,setFeedbackFlag:n,feedbackMessage:o,setFeedbackMessage:d,setFinalFlag:_,setWinFlag:m,winFlag:u})}),Object(c.jsx)(K.a,{exact:!0,path:"/registro",children:Object(c.jsx)(ee,{setFeedbackFlag:n,setFeedbackMessage:d,initialScreenFlag:p,setInitialScreenFlag:F})})]}),Object(c.jsx)(g,{})]})})}),ie=a(123);a(105);r.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsxs)(S.a,{children:[Object(c.jsx)(ie.a,{}),Object(c.jsx)(ne,{})]})}),document.getElementById("root"))},78:function(e,t,a){},79:function(e,t,a){},87:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[106,1,2]]]);
//# sourceMappingURL=main.bdbb528c.chunk.js.map